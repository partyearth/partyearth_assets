pe.ServersideAccordion=function(a,b,c){pe.init_widget(this,a);this.accordion_collapsed=!1;this.accordion_label_div=this.container.find(".AccordionLabel");this.content_div=this.container.find(".AccordionContent");this.content_div_height=0;this.expand_collapse_link=this.container.find(".ExpandCollapseLink");this.expand_collapse_link.click(this.callback(this.on_expand_collapse_link_click));this.severside_url=b;c?this.expand_accordion():this.collapse_accordion()};pe.ServersideAccordion.events={EXPANDED:"ServersideAccorderon_EXPANDED"};
pe.ServersideAccordion.prototype.animate=function(a){this.content_div.animate({height:a},300,"cubicEaseInOut")};pe.ServersideAccordion.prototype.collapse_accordion=function(){this.expand_collapse_link.removeClass("collapse_bar_wrapper").addClass("expand_bar_wrapper");this.accordion_label_div.html("Expand");this.accordion_collapsed=!0;this.animate(0)};
pe.ServersideAccordion.prototype.expand_accordion=function(){""!==this.content_div.html()?(this.expand_collapse_link.removeClass("expand_bar_wrapper").addClass("collapse_bar_wrapper"),this.accordion_label_div.html("Collapse"),this.accordion_collapsed=!1,this.animate(this.content_div_height)):$.ajax({url:this.severside_url,type:"GET",error:function(a){alert("error: "+a)},success:this.callback(function(a){this.expand_collapse_link.removeClass("expand_bar_wrapper").addClass("collapse_bar_wrapper");this.accordion_label_div.html("Collapse");
this.content_div.html(a);this.content_div.css("height","auto");this.accordion_collapsed=!1;this.content_div_height=this.content_div.height();this.fire_event(pe.ServersideAccordion.events.EXPANDED);pe.convert_to_rounded_corners()})})};pe.ServersideAccordion.prototype.on_expand_collapse_link_click=function(){this.accordion_collapsed?this.expand_accordion():this.collapse_accordion()};
