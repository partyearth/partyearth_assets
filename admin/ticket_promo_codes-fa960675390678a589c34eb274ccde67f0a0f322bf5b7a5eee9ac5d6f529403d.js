(function(){$(function(){return $(".StatusChanger").click(function(){var t,n,a,e,i,r;if(a=$(this),n=a.data("status"),r=a.data("transitions"),i=_.find(r,function(t){return t!==n})){if(a.data("status",i),t={_method:"put",id:a.data("id"),status:i},"deleted"===i){if(!confirm("Do you really want to DELETE this promo code?"))return;e=_.select($("[data-id="+a.data("id")+"]"),function(t){return t=$(t),!_.include(t.data("transitions"),i)}),_.each(e,function(t){return $(t).remove()})}return pe.routes.Request.from_current_location("update_status_admin_event_ticket_promo_codes",t).post(function(){return e=_.select($("[data-id="+a.data("id")+"]"),function(t){return t=$(t),_.include(t.data("transitions"),i)}),_.each(e,function(t){return $(t).html(i)})})}}),pe.init_page_framework()})}).call(this);