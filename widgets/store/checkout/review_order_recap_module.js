pe.ReviewOrderRecap=function(a,b){pe.init_widget(this,a);this.order_id=b;this.sales_tax_div=this.container.find(".SalesTax");this.shipping_handling_div=this.container.find(".ShippingHandling");this.order_total_div=this.container.find(".OrderTotal");this.subtotal_div=this.container.find(".Subtotal");this.cart_total_div=this.container.find(".CartTotal");this.quantity_input=this.container.find(".QuantityInput");this.quantity_update_button=this.container.find(".UpdateQuantity");this.quantity_update_button.click(this.callback(this.update_button_clicked))};
pe.ReviewOrderRecap.prototype.update_button_clicked=function(){$.ajax({url:"/api/orders/update_and_calculate_order_total.json",data:{order:this.order_id,quantity:this.quantity_input.val()},type:"POST",success:this.callback(function(a){if(a.error)return alert(a.error),!1;this.subtotal_div.html(a.sub_total);this.cart_total_div.html(a.cart_total);this.sales_tax_div.html(a.sales_tax);this.shipping_handling_div.html(a.shipping_cost);this.order_total_div.html(a.total_cost);return!0})})};
