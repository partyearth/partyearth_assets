pe.PhotoModule=function(b,d,e,f,c,g){pe.init_widget(this,b);this.container.html(this.dom(e));this.slide_show_div=this.container.find(".SlideShow");this.slide_show_div.html(this.render_photos(d,f,c,g));0<d.length&&(this.slide_show_div.addClass("slider"),this.slide_show_div.nivoSlider({effect:"slideInRight",startSlide:0,animSpeed:70,pauseTime:0,directionNav:1<d.length,directionNavHide:!0,controlNav:!1,keyboardNav:!0,manualAdvance:!0}))};
pe.PhotoModule.prototype.dom=function(b){return'<div class="SlideShow '+b+'"></div>'};
pe.PhotoModule.prototype.render_photos=function(b,d,e,f){var c="";if(0===b.length)c+='<img src="'+pe.https(pe.assign_photo_size("",d,e))+'" alt="" title="">';else{var g=this,h=b.length;$.each(b,function(b,a){a.photo=pe.https(pe.assign_photo_size(a.src,d,e));a.position=b+1+" of "+h;a.title_div="title_div_"+f+"_"+b;a.photo_caption_container=""===a.title?"":'<div class="photo_caption float_left"><span class="text float_left">'+a.title+'</span><div class="line_divider"></div></div>';g.container.append(pe.templatize('<div id="{{title_div}}" class="nivo-html-caption"><table width="100%" cellpadding="0" cellspacing="0"><tbody><tr><td width="90%">{{photo_caption_container}}</td><td valign="bottom"><div class="photo_number float_right"><span class="text"><nobr>{{position}}</nobr></span><div></td></tr></tbody></table></div>',
a));c=a.url?c+pe.templatize('<a href="{{url}}"><img src="{{photo}}" alt="" title="#{{title_div}}"/></a>',a):c+pe.templatize('<img src="{{photo}}" alt="" title="#{{title_div}}"/>',a)})}return c};
