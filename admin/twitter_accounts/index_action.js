pe.AjaxInput=function(a){pe.init_widget(this,a);this.update_url=this.container.attr("data_update_url");this.update_key=this.container.attr("data_update_key");this.input=pe.load(this.container.find(".Input"));this.input.change(this.callback(this.input_changed))};
pe.AjaxInput.prototype.input_changed=function(){var a=null;if("textarea"===this.input[0].type)a=this.input.val();else if(this.input.is(":checkbox"))a=this.input.is(":checked");else if(this.input.is(":text"))a=this.input.val();else{alert("unknown input field");return}var b={};b[this.update_key]=a;$.ajax({url:this.update_url,data:b,type:"PUT"})};pe.AjaxInput.instantiate=function(){$(".AjaxFlag").each(function(a,b){new pe.AjaxInput($(b))})};$(document).ready(function(){pe.AjaxInput.instantiate();pe.init_page_framework()});
