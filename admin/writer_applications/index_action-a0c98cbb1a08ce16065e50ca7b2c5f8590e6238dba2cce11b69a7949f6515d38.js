!function(u){var o;u.rails=o={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type])",disableSelector:"input[data-disable-with], button[data-disable-with], textarea[data-disable-with]",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled",requiredInputSelector:"input[name][required],textarea[name][required]",fileInputSelector:"input:file",CSRFProtection:function(t){var e=u('meta[name="csrf-token"]').attr("content");e&&t.setRequestHeader("X-CSRF-Token",e)},fire:function(t,e,a){var n=u.Event(e);return t.trigger(n,a),!1!==n.result},confirm:function(t){return confirm(t)},ajax:function(t){return u.ajax(t)},handleRemote:function(n){var t,e,a,i=n.data("type")||u.ajaxSettings&&u.ajaxSettings.dataType;if(o.fire(n,"ajax:before")){if(n.is("form")){t=n.attr("method"),e=n.attr("action"),a=n.serializeArray();var r=n.data("ujs:submit-button");r&&(a.push(r),n.data("ujs:submit-button",null))}else t=n.data("method"),e=n.attr("href"),a=null;o.ajax({url:e,type:t||"GET",data:a,dataType:i,beforeSend:function(t,e){return e.dataType===undefined&&t.setRequestHeader("accept","*/*;q=0.5, "+e.accepts.script),o.fire(n,"ajax:beforeSend",[t,e])},success:function(t,e,a){n.trigger("ajax:success",[t,e,a])},complete:function(t,e){n.trigger("ajax:complete",[t,e])},error:function(t,e,a){n.trigger("ajax:error",[t,e,a])}})}},handleMethod:function(t){var e=t.attr("href"),a=t.data("method"),n=u("meta[name=csrf-token]").attr("content"),i=u("meta[name=csrf-param]").attr("content"),r=u('<form method="post" action="'+e+'"></form>'),o='<input name="_method" value="'+a+'" type="hidden" />';i!==undefined&&n!==undefined&&(o+='<input name="'+i+'" value="'+n+'" type="hidden" />'),r.hide().append(o).appendTo("body"),r.submit()},disableFormElements:function(t){t.find(o.disableSelector).each(function(){var t=u(this),e=t.is("button")?"html":"val";t.data("ujs:enable-with",t[e]()),t[e](t.data("disable-with")),t.attr("disabled","disabled")})},enableFormElements:function(t){t.find(o.enableSelector).each(function(){var t=u(this),e=t.is("button")?"html":"val";t.data("ujs:enable-with")&&t[e](t.data("ujs:enable-with")),t.removeAttr("disabled")})},allowAction:function(t){var e,a=t.data("confirm"),n=!1;return!a||(o.fire(t,"confirm")&&(n=o.confirm(a),e=o.fire(t,"confirm:complete",[n])),n&&e)},blankInputs:function(t,e,a){var n,i=u(),r=e||"input,textarea";return t.find(r).each(function(){n=u(this),(a?n.val():!n.val())&&(i=i.add(n))}),!!i.length&&i},nonBlankInputs:function(t,e){return o.blankInputs(t,e,!0)},stopEverything:function(t){return t.stopImmediatePropagation(),!1},callFormSubmitBindings:function(t){var e=t.data("events"),a=!0;return e!==undefined&&e.submit!==undefined&&u.each(e.submit,function(t,e){if("function"==typeof e.handler)return a=e.handler(e.data)}),a}},"ajaxPrefilter"in u?u.ajaxPrefilter(function(t,e,a){o.CSRFProtection(a)}):u(document).ajaxSend(function(t,e){o.CSRFProtection(e)}),u(o.linkClickSelector).live("click.rails",function(t){var e=u(this);return o.allowAction(e)?e.data("remote")!==undefined?(o.handleRemote(e),!1):e.data("method")?(o.handleMethod(e),!1):void 0:o.stopEverything(t)}),u(o.formSubmitSelector).live("submit.rails",function(t){var e=u(this),a=e.data("remote")!==undefined,n=o.blankInputs(e,o.requiredInputSelector),i=o.nonBlankInputs(e,o.fileInputSelector);return o.allowAction(e)?n&&o.fire(e,"ajax:aborted:required",[n])?!a:a?i?o.fire(e,"ajax:aborted:file",[i]):u.support.submitBubbles||!1!==o.callFormSubmitBindings(e)?(o.handleRemote(e),!1):o.stopEverything(t):void setTimeout(function(){o.disableFormElements(e)},13):o.stopEverything(t)}),u(o.formInputClickSelector).live("click.rails",function(t){var e=u(this);if(!o.allowAction(e))return o.stopEverything(t);var a=e.attr("name"),n=a?{name:a,value:e.val()}:null;e.closest("form").data("ujs:submit-button",n)}),u(o.formSubmitSelector).live("ajax:beforeSend.rails",function(t){this==t.target&&o.disableFormElements(u(this))}),u(o.formSubmitSelector).live("ajax:complete.rails",function(t){this==t.target&&o.enableFormElements(u(this))})}(jQuery),$(document).ready(function(){var i=$(".StartDate, .EndDate").datepicker({changeMonth:!0,changeYear:!0,onSelect:function(t){var e=$(this).hasClass("StartDate")?"minDate":"maxDate",a=$(this).data("datepicker"),n=$.datepicker.parseDate(a.settings.dateFormat||$.datepicker._defaults.dateFormat,t,a.settings);i.not(this).datepicker("option",e,n)}});pe.init_page_framework()});