pe.SearchConfiguration=function(){pe.init_widget(this,null);this.filters={}};pe.SearchConfiguration.cookie_name="partyearth_search_configuration";pe.SearchConfiguration.prototype.add_filter=function(a,b){this.filters[a]=b};pe.SearchConfiguration.prototype.equals=function(a){var b=!0;$.each(this.filters,function(c,d){var e=a.filters[c];b=b&&e===d});$.each(a.filters,this.callback(function(a,d){var e=this.filters[a];b=b&&e===d}));return b};
pe.SearchConfiguration.from_cookie=function(){var a=new pe.SearchConfiguration,b=document.cookie.split(";"),c=null;$.each(b,function(a,b){var f=b.split("=");$.trim(f[0])===pe.SearchConfiguration.cookie_name&&(c=f[1])});return c?($.each(JSON.parse(c),function(b,c){a.add_filter(b,c)}),pe.SearchConfiguration.remove_cookie(),a):null};
pe.SearchConfiguration.prototype.get_filter=function(a){var b="";return"start_date_or_default"===a?(b=this.get_filter("start_date"))?b:pe.today_date_string():"end_date_or_default"===a?(a=this.get_filter("end_date"),b=this.get_filter("start_date"),a?a:b?b:pe.today_date_string()):this.filters[a]};pe.SearchConfiguration.prototype.has_filters=function(a){var b=!0;$.each(arguments,this.callback(function(a,d){d in this.filters||(b=!1)}));return b};
pe.SearchConfiguration.prototype.serialize=function(){var a=this.get_filter("neighborhood");a&&"object"===typeof a&&(this.filters.neighborhood=a.id);return JSON.stringify(this.filters)};pe.SearchConfiguration.remove_cookie=function(){document.cookie=pe.SearchConfiguration.cookie_name+'=""; expires=Thu, 2 Aug 2001 20:47:11 UTC; path=/'};pe.SearchConfiguration.prototype.to_cookie=function(){var a=this.serialize();document.cookie=pe.SearchConfiguration.cookie_name+"="+a+"; expires=Mon, 04 Apr 2020 05:00:00 UTC; path=/"};
