pe.CloseButton=function(a,b){pe.init_widget(this,a);this.close_button=a.find(".CloseButton");if("function"===typeof b)this.close_button.click(b);else switch(b){case pe.CloseButton.close_methods.REMOVE:this.close_button.click(this.callback(this.remove_container));break;case pe.CloseButton.close_methods.HIDE:this.close_button.click(this.callback(this.hide_container));break;default:alert("unknown value for 'close_method' parameter.")}};pe.CloseButton.close_methods={REMOVE:"REMOVE",HIDE:"HIDE"};
pe.CloseButton.events={CLOSED:"CloseButton_CLOSED"};pe.CloseButton.prototype.remove_container=function(){this.container.detach();this.fire_event(pe.CloseButton.events.CLOSED);this.container.remove();return!1};pe.CloseButton.prototype.hide_container=function(){this.fire_event(pe.CloseButton.events.CLOSED);this.container.hide();return!1};
pe.BottombarPopupModule=function(a,b,c,d,e,f){pe.BottombarPopupModule.active_popup&&pe.BottombarPopupModule.active_popup.close();a.append(this.html(b,e,f));pe.init_widget(this,a.find("."+b));this.container.attr("height",d);this.container.attr("width",c);this.parent_container=a;a=this.parent_container.attr("title");this.parent_container_link_title="string"===typeof a?a:"";this.form_container=this.container.find(".FormContainer");pe.BottombarPopupModule.active_popup=this;this.close_button=new pe.CloseButton(this.container,
pe.CloseButton.close_methods.REMOVE);this.close_button.bind_event(pe.CloseButton.events.CLOSED,this.callback(this.closed));this.container.hover(this.callback(this.mouse_enter),this.callback(this.mouse_leave));this.container.click(this.callback(this.popup_element_clicked))};pe.BottombarPopupModule.prototype.html=function(a,b,c){return'<div class="'+a+'">  <div class="CloseButton fake_link"></div>  <div class="title headline">'+b+'</div>  <div class="FormContainer">'+c+'</div>  <div class="bottom_arrow"></div></div>'};
pe.BottombarPopupModule.prototype.closed=function(){pe.BottombarPopupModule.active_popup&&pe.BottombarPopupModule.active_popup.mouse_leave();pe.BottombarPopupModule.active_popup=null};pe.BottombarPopupModule.prototype.close=function(){this.close_button.remove_container();this.closed();return!1};pe.BottombarPopupModule.prototype.mouse_enter=function(){this.parent_container.attr("title","")};pe.BottombarPopupModule.prototype.mouse_leave=function(){this.parent_container.attr("title",this.parent_container_link_title)};
pe.BottombarPopupModule.prototype.show_thank_you=function(a){this.form_container.html(this.thank_you_html(a))};pe.BottombarPopupModule.prototype.thank_you_html=function(a){return"<div>  <p>"+a+"</p></div>"};pe.BottombarPopupModule.prototype.popup_element_clicked=function(a){a.stopPropagation()};
