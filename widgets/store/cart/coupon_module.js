pe.CouponModule=function(b,a,c,d){pe.init_widget(this,b);this.container.html(this.dom(a,c,d));this.coupon_form_div=this.container.find(".CouponForm");this.coupon_display_div=this.container.find(".DisplayCoupon");this.coupon_code_input=this.container.find(".CouponCodeInput");this.error_message_div=this.container.find(".ErrorMessage");this.edit_button=this.container.find(".EditCode");this.edit_button.click(this.callback(this.edit_button_clicked));c||!a?(this.coupon_form_div.show(),this.coupon_display_div.hide()):
a&&!c&&(this.coupon_form_div.hide(),this.coupon_display_div.show())};
pe.CouponModule.prototype.dom=function(b,a,c){return'<span class="label float_left">Promo Code</span><div class="CouponForm coupon_form float_left"><form method="post" action="/store/cart/party-earth-europe-guidebook/apply_coupon/"><div class="input_wrapper float_left"><div class="input_inner_wrapper"><input type="text" name="code" class="text_field CouponCodeInput" id="code" value="'+(b?b:"")+'"></div></div><input type="hidden" name="authenticity_token" value="'+c+'"><input class="blue_btn submit_btn" type="submit" value="Apply"></form>'+
(a?'<div id="error_message" class="ErrorMessage"><table cellpadding="0" cellspacing="0"><tbody><tr class="tip_header_row"><td class="tip_left_corner tooltip_sprite"></td><td class="tip_mid_section tooltip_sprite"><div class="tooltip_arrow tooltip_sprite"></div></td><td class="tip_right_corner tooltip_sprite"></td></tr><tr class="tip_content_container"><td class="tip_left_side tooltip_sprite" width="10"></td><td width="220"><div class="tip_content"><p>'+a+'</p></div></td><td class="tip_right_side tooltip_sprite" width="17"></td></tr><tr class="tip_footer_row"><td class="tip_left_corner tooltip_sprite"></td><td class="tip_mid_section tooltip_sprite"></td><td class="tip_right_corner tooltip_sprite"></td></tr></tbody></table></div>':
"")+'</div><div class="DisplayCoupon display_coupon float_left"><span class="CouponCode coupon_code">'+b+'</span><span class="EditCode edit_code">Edit code</span></div></div>'};pe.CouponModule.prototype.edit_button_clicked=function(){this.coupon_display_div.hide();this.coupon_form_div.show()};
