pe.HelpModule=function(b,a,c){pe.init_widget(this,b);this.help_module_open=!1;this.help_id=a;this.container.append(this.html(c));this.container.click(this.callback(this.help_button_clicked));this.help_button_div=this.container.find(".HelpButton");(this.admin_link=this.container.find(".AdminLink"))&&this.admin_link.click(this.callback(this.admin_link_clicked))};
pe.HelpModule.prototype.html=function(b){var a="";0===this.container.contents().length&&(a+='<div class="fake_link help_btn HelpButton"></div>');b&&(a+='<div><a class="AdminLink admin_edit" target="_blank" href="/admin/pages/'+this.help_id+'/edit">Edit Tip</a></div>');return a};pe.HelpModule.prototype.admin_link_clicked=function(b){b.stopPropagation()};
pe.HelpModule.prototype.help_button_clicked=function(b){this.help_module_open?b.stopPropagation():pe.ajax_loader.help_page.load({page_id:this.help_id,timestamp:pe.pages_timestamp()},this.callback(function(a){this.help_button_div.append(this.dialog_box_html(a));a=this.container.find(".DialogBox");this.help_module_open=!0;new pe.CloseButton(a,this.callback(this.close_dialog,a))}))};
pe.HelpModule.prototype.dialog_box_html=function(b){return pe.templatize('<div id="tool_tip"><table class="DialogBox" cellpadding="0" cellspacing="0"><tbody><tr class="tip_header_row"><td class="tip_left_corner tooltip_sprite"></td><td class="tip_mid_section tooltip_sprite"></td><td class="tip_right_corner tooltip_sprite"></td></tr><tr class="tip_content_container"><td class="tip_left_side tooltip_sprite" width="10"><div class="tooltip_arrow tooltip_sprite"></div></td><td width="220"><div class="tip_content"><div class="CloseButton tip_close_btn tooltip_sprite" title="Close"></div><h1 class="tooltip_title">{{title}}</h1>{{content}}</div></td><td class="tip_right_side tooltip_sprite" width="17"></td></tr><tr class="tip_footer_row"><td class="tip_left_corner tooltip_sprite"></td><td class="tip_mid_section tooltip_sprite"></td><td class="tip_right_corner tooltip_sprite"></td></tr></tbody></table></div>',b)};
pe.HelpModule.prototype.close_dialog=function(b,a){this.help_module_open=!1;b.remove();a.stopPropagation()};
