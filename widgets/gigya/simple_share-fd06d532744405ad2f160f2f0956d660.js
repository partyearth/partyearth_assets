pe.SimpleShare=function(a,c,b){pe.init_widget(this,a);this.options=b||{};this.dialog_wrapper_id=c;this.populate_dialog_wrapper();this.container.click(this.callback(this.share_button_clicked))};
pe.SimpleShare.prototype.initialize_simple_share=function(){var a=new gigya.socialize.UserAction,c=$('meta[property="og:title"]').attr("content"),b=pe.remove_anchor_from_url(window.location.href);a.setTitle(c);a.setLinkBack(b);a.setDescription($('meta[property="og:description"]').attr("content"));var d=$('meta[property="og:image"]').attr("content");d&&void 0!==d&&a.addMediaItem({type:"image",src:d,href:b});a=$.extend({userAction:a,cid:"",operationMode:"simpleShare",enabledProviders:"facebook, twitter, yahoo,messenger, linkedin, myspace, orkut",
showMoreButton:!0,showEmailButton:!0,shortURLs:"never",snapToElementID:this.dialog_wrapper_id,dontSendEmail:!0,onSendDone:this.callback(function(a){this.send_email(a,c,b)})},this.options);gigya.socialize.showShareUI(a)};pe.SimpleShare.prototype.populate_dialog_wrapper=function(){this.container.html('<div id="'+this.dialog_wrapper_id+'"></div>')};
pe.SimpleShare.prototype.send_email=function(a,c,b){var d=$.map(a.recipients,function(a){return a.email}).join(", ");$.post("/api/share_link_by_email.json",{sender:a.sender,recipients:d,subject:c.split("|")[0],link:b,message:a.userMessage})};pe.SimpleShare.prototype.share_button_clicked=function(){this.initialize_simple_share()};
