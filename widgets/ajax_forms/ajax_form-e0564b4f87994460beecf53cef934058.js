pe.AjaxForm=function(a){pe.init_widget(this,a);this.update_url=this.container.attr("data_update_url");this.update_key=this.container.attr("data_update_key");this.input=pe.load(this.container.find(".Input"));this.update_button=this.container.find(".Update");this.update_button.click(this.callback(this.update_clicked))};
pe.AjaxForm.prototype.update_clicked=function(){var a=null;if("textarea"===this.input[0].type)a=this.input.val();else if(this.input.is(":checkbox"))a=this.input.is(":checked");else if(this.input.is(":text"))a=this.input.val();else{alert("unknown input field");return}var b={};b[this.update_key]=a;$.ajax({url:this.update_url,data:b,type:"PUT"})};pe.AjaxForm.instantiate=function(){$(".AjaxForm").each(function(a,b){new pe.AjaxForm($(b))})};
