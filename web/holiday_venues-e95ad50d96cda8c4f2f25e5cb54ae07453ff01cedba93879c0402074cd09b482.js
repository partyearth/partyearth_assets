pe.HelpModule2=function(){var e=$(".HelperModule");e.length&&(pe.init_widget(this,e),this.container.live("click",this.callback(this.helper_module_div_clicked)),this.container.live("hover",this.callback(this.helper_module_div_hovered)),this.active_popup=null)},pe.HelpModule2.prototype.close_button_clicked=function(){this.destroy_active_popup()},pe.HelpModule2.prototype.create_popup=function(e,t){this.active_popup=$(t),e.append(this.active_popup),$("body").bind("click",this.callback(this.close_button_clicked))},pe.HelpModule2.prototype.destroy_active_popup=function(){$("body").unbind("click"),this.active_popup.remove(),this.active_popup=null},pe.HelpModule2.prototype.helper_module_div_hovered=function(e){var t=$(e.target),i=(t.hasClass("HelperModule")?t:t.closest(".HelperModule")).data("page-id");i&&pe.ajax_loader.help_page.load({page_id:i},this.callback(function(){}))},pe.HelpModule2.prototype.helper_module_div_clicked=function(e){var t,i=$(e.target);t=i.hasClass("HelperModule")?i:i.closest(".HelperModule"),this.active_popup&&this.destroy_active_popup();var a=t.data("page-id");a&&pe.ajax_loader.help_page.load({page_id:a},this.callback(function(e){this.create_popup(t,this.popup_html(e))})),e.stopPropagation()},pe.HelpModule2.prototype.popup_html=function(e){return pe.templatize('<div class="DialogBox dialog_box"><div class="dialog_content_wrapper clearfix"><div class="CloseButton close_btn" title="Close"></div><div class="dialog_img"></div><div class="dialog_content"> <span class="title">{{title}}:&nbsp;&nbsp;</span> {{content}}</div></div></div><div class="dialog_point"><div class="dialog_inner_point"></div></div>',e)},pe.ChangeImageOnHover=function(e,t){pe.init_widget(this,e),this.image_container=this.container.find(".ImageContainer"),this.link_parent_class=t||null,this.include_caption=this.container.data("include-caption")||!1,this.object_links=this.container.find(".HoverLinkToChange"),this.object_links.mouseover(this.callback(this.object_link_hovered));var i=t?this.container.find("."+t):[];this.link_wrappers=0<i.length?i:this.object_links.parent()},pe.ChangeImageOnHover.prototype.image_html=function(e){var t='<a href="{{object_url}}" title="{{link_title}}" class="thumbnail_link"><img src="{{image_url}}" alt="{{alt_tag}}"></a>';this.include_caption&&(t+='<p class="name"><span class="date">{{link_prefix}}</span><a href="{{object_url}}">{{image_caption}}</a></p>');var i={object_url:e.attr("href"),image_url:e.data("image-url"),link_title:e.data("title")||"",alt_tag:e.data("image-alt-tag")||"",link_prefix:e.data("link-prefix")||"",image_caption:e.html()};return pe.templatize(t,i)},pe.ChangeImageOnHover.instantiate_all=function(t){return $.map($(".ChangeImageOnHoverContainer"),function(e){return new pe.ChangeImageOnHover($(e),t)})},pe.ChangeImageOnHover.prototype.object_link_hovered=function(e){var t=$(e.target);this.object_links.removeClass("selected"),this.link_wrappers.removeClass("selected"),t.addClass("selected"),this.link_wrapper(t).addClass("selected"),this.image_container.html(this.image_html(t)),pe.convert_to_rounded_corners()},pe.ChangeImageOnHover.prototype.link_wrapper=function(e){return this.link_parent_class?e.closest("."+this.link_parent_class):e.parent()},$(document).ready(function(){pe.init_page_framework(function(){setTimeout(function(){new pe.HelpModule2,pe.ChangeImageOnHover.instantiate_all("LinkWrapper")})})});