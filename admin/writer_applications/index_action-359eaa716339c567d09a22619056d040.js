(function(d){var c;d.rails=c={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type])",disableSelector:"input[data-disable-with], button[data-disable-with], textarea[data-disable-with]",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled",requiredInputSelector:"input[name][required],textarea[name][required]",
fileInputSelector:"input:file",CSRFProtection:function(b){var a=d('meta[name="csrf-token"]').attr("content");a&&b.setRequestHeader("X-CSRF-Token",a)},fire:function(b,a,c){a=d.Event(a);b.trigger(a,c);return!1!==a.result},confirm:function(b){return confirm(b)},ajax:function(b){return d.ajax(b)},handleRemote:function(b){var a,g,e,f=b.data("type")||d.ajaxSettings&&d.ajaxSettings.dataType;if(c.fire(b,"ajax:before")){if(b.is("form")){a=b.attr("method");g=b.attr("action");e=b.serializeArray();var h=b.data("ujs:submit-button");
h&&(e.push(h),b.data("ujs:submit-button",null))}else a=b.data("method"),g=b.attr("href"),e=null;c.ajax({url:g,type:a||"GET",data:e,dataType:f,beforeSend:function(a,d){void 0===d.dataType&&a.setRequestHeader("accept","*/*;q=0.5, "+d.accepts.script);return c.fire(b,"ajax:beforeSend",[a,d])},success:function(a,c,d){b.trigger("ajax:success",[a,c,d])},complete:function(a,c){b.trigger("ajax:complete",[a,c])},error:function(a,c,d){b.trigger("ajax:error",[a,c,d])}})}},handleMethod:function(b){var a=b.attr("href"),
c=b.data("method"),b=d("meta[name=csrf-token]").attr("content"),e=d("meta[name=csrf-param]").attr("content"),a=d('<form method="post" action="'+a+'"></form>'),c='<input name="_method" value="'+c+'" type="hidden" />';void 0!==e&&void 0!==b&&(c+='<input name="'+e+'" value="'+b+'" type="hidden" />');a.hide().append(c).appendTo("body");a.submit()},disableFormElements:function(b){b.find(c.disableSelector).each(function(){var a=d(this),b=a.is("button")?"html":"val";a.data("ujs:enable-with",a[b]());a[b](a.data("disable-with"));
a.attr("disabled","disabled")})},enableFormElements:function(b){b.find(c.enableSelector).each(function(){var a=d(this),b=a.is("button")?"html":"val";if(a.data("ujs:enable-with"))a[b](a.data("ujs:enable-with"));a.removeAttr("disabled")})},allowAction:function(b){var a=b.data("confirm"),d=!1,e;if(!a)return!0;c.fire(b,"confirm")&&(d=c.confirm(a),e=c.fire(b,"confirm:complete",[d]));return d&&e},blankInputs:function(b,a,c){var e=d(),f;b.find(a||"input,textarea").each(function(){f=d(this);if(c?f.val():
!f.val())e=e.add(f)});return e.length?e:!1},nonBlankInputs:function(b,a){return c.blankInputs(b,a,!0)},stopEverything:function(b){b.stopImmediatePropagation();return!1},callFormSubmitBindings:function(b){var b=b.data("events"),a=!0;void 0!==b&&void 0!==b.submit&&d.each(b.submit,function(b,c){if("function"===typeof c.handler)return a=c.handler(c.data)});return a}};"ajaxPrefilter"in d?d.ajaxPrefilter(function(b,a,d){c.CSRFProtection(d)}):d(document).ajaxSend(function(b,a){c.CSRFProtection(a)});d(c.linkClickSelector).live("click.rails",
function(b){var a=d(this);if(!c.allowAction(a))return c.stopEverything(b);if(void 0!==a.data("remote"))return c.handleRemote(a),!1;if(a.data("method"))return c.handleMethod(a),!1});d(c.formSubmitSelector).live("submit.rails",function(b){var a=d(this),g=void 0!==a.data("remote"),e=c.blankInputs(a,c.requiredInputSelector),f=c.nonBlankInputs(a,c.fileInputSelector);if(!c.allowAction(a))return c.stopEverything(b);if(e&&c.fire(a,"ajax:aborted:required",[e]))return!g;if(g){if(f)return c.fire(a,"ajax:aborted:file",
[f]);if(!d.support.submitBubbles&&!1===c.callFormSubmitBindings(a))return c.stopEverything(b);c.handleRemote(a);return!1}setTimeout(function(){c.disableFormElements(a)},13)});d(c.formInputClickSelector).live("click.rails",function(b){var a=d(this);if(!c.allowAction(a))return c.stopEverything(b);b=(b=a.attr("name"))?{name:b,value:a.val()}:null;a.closest("form").data("ujs:submit-button",b)});d(c.formSubmitSelector).live("ajax:beforeSend.rails",function(b){this==b.target&&c.disableFormElements(d(this))});
d(c.formSubmitSelector).live("ajax:complete.rails",function(b){this==b.target&&c.enableFormElements(d(this))})})(jQuery);$(document).ready(function(){var d=$(".StartDate, .EndDate").datepicker({changeMonth:!0,changeYear:!0,onSelect:function(c){var b=$(this).hasClass("StartDate")?"minDate":"maxDate",a=$(this).data("datepicker"),c=$.datepicker.parseDate(a.settings.dateFormat||$.datepicker._defaults.dateFormat,c,a.settings);d.not(this).datepicker("option",b,c)}});pe.init_page_framework()});
