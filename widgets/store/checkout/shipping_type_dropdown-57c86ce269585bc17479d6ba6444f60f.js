pe.ShippingTypeDropDown=function(a){pe.init_widget(this,a);pe.ajax_loader.shipping_types.load(this.callback(function(b){this.dropdown_widget=new pe.DropdownModule(a,this.dropdown_html(b),this.callback(this.title_html),!1,"order[shipping_type_id]");this.dropdown_widget.bind_event(pe.DropdownModule.events.CHANGED,this.callback(this.selected));this.val(b[0].id)}))};pe.ShippingTypeDropDown.events={OPENED:"ShippingTypeDropDown_OPENED",CHANGED:"ShippingTypeDropDown_CHANGED"};
pe.ShippingTypeDropDown.prototype.dropdown_html=function(a){var b=[];$.each(a,function(a,d){b.push(pe.templatize('<div class="Choice choice" data_result="{{id}}">{{name}}</div>',d))});return b.join("\n")};pe.ShippingTypeDropDown.prototype.result_value=function(a){return a&&(a=a.attr("data_result"),"string"===typeof a)?a:""};
pe.ShippingTypeDropDown.prototype.selected=function(a,b){var c=this.result_value($(b));this.dropdown_widget.set_input_field_value(c);this.fire_event(pe.ShippingTypeDropDown.events.CHANGED,c)};pe.ShippingTypeDropDown.prototype.title_html=function(a){return a?"selecting"===a?(this.fire_event(pe.ShippingTypeDropDown.events.OPENED,$(a)),'<span class="unselected">Select a Shipping Type</span>'):a.html():'<span class="unselected">Select a Shipping Type</span>'};
pe.ShippingTypeDropDown.prototype.val=function(a){if(a)this.dropdown_widget.val(".Choice[data_result='"+a+"']"),this.dropdown_widget.set_input_field_value(a),this.fire_event(pe.ShippingTypeDropDown.events.CHANGED);else return this.result_value(this.dropdown_widget.val())};
