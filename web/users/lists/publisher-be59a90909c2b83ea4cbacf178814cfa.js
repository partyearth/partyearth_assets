(function(){var d=function(a,b){return function(){return a.apply(b,arguments)}},e=pe,c=function(a){this.container=a;this.publish=d(this.publish,this);this.validate=d(this.validate,this);this.button=this.container.find(".Button");this.error_container=this.container.find(".Error");this.congrats=this.container.find(".Congrats");this.validators=[];this.button.click(this.publish)};c.prototype.add_validator=function(a){return this.validators.push(a)};c.prototype.validate=function(){var a;a=null;_.each(this.validators,
function(b){if(b.failed())return a=b.message});a&&(this.error_container.show(),this.error_container.html(a));return!a};c.prototype.publish=function(){var a,b=this;if(this.validate())return a={user_list:{},_method:"put"},a.user_list.status="active",pe.routes.Request.from_current_location("api_user_list",a).post(function(a){return 0===a.status?(b.button.hide(),b.error_container.hide(),b.congrats.show()):b.error_container.html(a.errors[0])})};e.ListPublisher=c}).call(this);
