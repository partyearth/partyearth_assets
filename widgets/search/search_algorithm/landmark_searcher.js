pe.LandmarkSearcher=function(){pe.init_widget(this,null)};pe.LandmarkSearcher.prototype.get_matching_landmarks=function(b,c){!b.has_filters("city")||"all"===b.get_filter("city")?c([]):pe.ajax_loader.city_landmarks.load_cached({city_id:b.get_filter("city"),timestamp:pe.landmarks_timestamp()},function(a){pe.LandmarkSearcher.mark_landmark_map_visibility(a,b);c(a)})};
pe.LandmarkSearcher.mark_landmark_map_visibility=function(b,c){var a=c.get_filter("result_types"),d=a?-1<a.indexOf("landmarks"):!0;$.each(b,function(b,a){a.map_icon=pe.Map.marker_types.LANDMARK;a.map_visibility=d})};
